document.addEventListener("DOMContentLoaded",function(){function t(t){return t.val().length>0?meta=t.val()+" ":meta=t.val(),meta}const e=jQuery;e("#seopress-tabs .hidden").removeClass("hidden"),e("#seopress-tabs").tabs();var s=function(t,e,s){var i;return function(){var a=this,l=arguments,o=function(){i=null,s||t.apply(a,l)},r=s&&!i;clearTimeout(i),i=setTimeout(o,e),r&&t.apply(a,l)}};e("#seopress_titles_title_meta").on("change paste keyup",s(function(t){const s=e(this).val(),i=e("#seopress-tabs").data("term-id"),a=e("#seopress-tabs").data("home-id");e.ajax({method:"GET",url:seopressAjaxRealPreview.ajax_url,data:{action:"get_preview_meta_title",template:s,post_id:e("#seopress-tabs").attr("data_id"),term_id:0===i.length?void 0:i,home_id:0===a.length?void 0:a,nonce:seopressAjaxRealPreview.get_preview_meta_title},success:function(t){const{data:s}=t;s.length>0?(e(".snippet-title").hide(),e(".snippet-title-default").hide(),e(".snippet-title-custom").text(s),e(".snippet-title-custom").show(),e("#seopress_titles_title_counters").length>0&&e("#seopress_titles_title_counters").text(s.length),e("#seopress_titles_title_pixel").length>0&&e("#seopress_titles_title_pixel").text(pixelTitle(s))):(e(".snippet-title").hide(),e(".snippet-title-custom").hide(),e(".snippet-title-default").show())}})},300)),e("#seopress-tag-single-title").click(function(){e("#seopress_titles_title_meta").val(t(e("#seopress_titles_title_meta"))+e("#seopress-tag-single-title").attr("data-tag")),e("#seopress_titles_title_meta").trigger("paste")}),e("#seopress-tag-single-site-title").click(function(){e("#seopress_titles_title_meta").val(t(e("#seopress_titles_title_meta"))+e("#seopress-tag-single-site-title").attr("data-tag")),e("#seopress_titles_title_meta").trigger("paste")}),e("#seopress-tag-single-excerpt").click(function(){e("#seopress_titles_desc_meta").val(t(e("#seopress_titles_desc_meta"))+e("#seopress-tag-single-excerpt").attr("data-tag")),e("#seopress_titles_title_meta").trigger("paste")}),e("#seopress-tag-single-sep").click(function(){e("#seopress_titles_title_meta").val(t(e("#seopress_titles_title_meta"))+e("#seopress-tag-single-sep").attr("data-tag")),e("#seopress_titles_title_meta").trigger("paste")});let i=!1;e(".seopress-tag-dropdown").each(function(s){function a(s){l.hasClass("tag-title")&&(e("#seopress_titles_title_meta").val(t(e("#seopress_titles_title_meta"))+e(s).attr("data-value")),e("#seopress_titles_title_meta").trigger("paste")),l.hasClass("tag-description")&&(e("#seopress_titles_desc_meta").val(t(e("#seopress_titles_desc_meta"))+e(s).attr("data-value")),e("#seopress_titles_desc_meta").trigger("paste"))}const l=e(this);e(this).on("click",function(){function t(s){e(s.target).hasClass("dashicons")||e(s.target).hasClass("seopress-tag-single-all")||(i=!1,e(document).off("click",t),e(".sp-wrap-tag-variables-list").removeClass("open"))}e(this).next(".sp-wrap-tag-variables-list").toggleClass("open"),e(this).next(".sp-wrap-tag-variables-list").find("li").on("click",function(t){a(this),t.stopImmediatePropagation()}).on("keyup",function(t){13===t.keyCode&&(a(this),t.stopImmediatePropagation())}),i||(i=!0,e(document).on("click",t))})})});