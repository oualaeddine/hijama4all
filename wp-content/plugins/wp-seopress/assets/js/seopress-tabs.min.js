jQuery(document).ready(function(s){function e(s){return s.val().length>0?meta=s.val()+" ":meta=s.val(),meta}const t=[["seopress_titles","seopress_titles_home"],["seopress_xml_sitemap_tab","seopress_xml_sitemap_general"],["seopress_social_tab","seopress_social_knowledge"],["seopress_advanced_tab","seopress_advanced_image"],["seopress_google_analytics_enable","seopress_google_analytics_enable"],["seopress_tool_settings","seopress_tool_settings"],["seopress_instant_indexing_settings","seopress_instant_indexing_settings"]];t.forEach(function(e){var t=s(location).attr("hash").split("#tab=")[1];if(void 0!==t)s("#"+t+"-tab").addClass("nav-tab-active"),s("#"+t).addClass("active");else{if("undefined"!=typeof sessionStorage&&"null"!=typeof sessionStorage){var a=sessionStorage.getItem("seopress_save_tab");a&&s("#"+a+"-tab").length?(s("#seopress-tabs").find(".nav-tab.nav-tab-active").removeClass("nav-tab-active"),s("#seopress-tabs").find(".seopress-tab.active").removeClass("active"),s("#"+a+"-tab").addClass("nav-tab-active"),s("#"+a).addClass("active")):(s("#tab_"+e[1]+"-tab").addClass("nav-tab-active"),s("#tab_"+e[1]).addClass("active"))}s("#seopress-tabs").find("a.nav-tab").click(function(e){e.preventDefault();var t=s(this).attr("href").split("#tab=")[1];s("#seopress-tabs").find(".nav-tab.nav-tab-active").removeClass("nav-tab-active"),s("#"+t+"-tab").addClass("nav-tab-active"),sessionStorage.setItem("seopress_save_tab",t),s("#seopress-tabs").find(".seopress-tab.active").removeClass("active"),s("#"+t).addClass("active")})}});let a=!1;if(s("#seopress-tag-site-title").click(function(){s("#seopress_titles_home_site_title").val(e(s("#seopress_titles_home_site_title"))+s("#seopress-tag-site-title").attr("data-tag"))}),s("#seopress-tag-site-desc").click(function(){s("#seopress_titles_home_site_title").val(e(s("#seopress_titles_home_site_title"))+s("#seopress-tag-site-desc").attr("data-tag"))}),s("#seopress-tag-site-sep").click(function(){s("#seopress_titles_home_site_title").val(e(s("#seopress_titles_home_site_title"))+s("#seopress-tag-site-sep").attr("data-tag"))}),s("#seopress-tag-meta-desc").click(function(){s("#seopress_titles_home_site_desc").val(e(s("#seopress_titles_home_site_desc"))+s("#seopress-tag-meta-desc").attr("data-tag"))}),s("#seopress-tag-post-author").click(function(){s("#seopress_titles_archive_post_author").val(e(s("#seopress_titles_archive_post_author"))+s("#seopress-tag-post-author").attr("data-tag"))}),s("#seopress-tag-sep-author").click(function(){s("#seopress_titles_archive_post_author").val(e(s("#seopress_titles_archive_post_author"))+s("#seopress-tag-sep-author").attr("data-tag"))}),s("#seopress-tag-site-title-author").click(function(){s("#seopress_titles_archive_post_author").val(e(s("#seopress_titles_archive_post_author"))+s("#seopress-tag-site-title-author").attr("data-tag"))}),s("#seopress-tag-archive-date").click(function(){s("#seopress_titles_archives_date_title").val(e(s("#seopress_titles_archives_date_title"))+s("#seopress-tag-archive-date").attr("data-tag"))}),s("#seopress-tag-sep-date").click(function(){s("#seopress_titles_archives_date_title").val(e(s("#seopress_titles_archives_date_title"))+s("#seopress-tag-sep-date").attr("data-tag"))}),s("#seopress-tag-site-title-date").click(function(){s("#seopress_titles_archives_date_title").val(e(s("#seopress_titles_archives_date_title"))+s("#seopress-tag-site-title-date").attr("data-tag"))}),s("#seopress-tag-search-keywords").click(function(){s("#seopress_titles_archives_search_title").val(e(s("#seopress_titles_archives_search_title"))+s("#seopress-tag-search-keywords").attr("data-tag"))}),s("#seopress-tag-sep-search").click(function(){s("#seopress_titles_archives_search_title").val(e(s("#seopress_titles_archives_search_title"))+s("#seopress-tag-sep-search").attr("data-tag"))}),s("#seopress-tag-site-title-search").click(function(){s("#seopress_titles_archives_search_title").val(e(s("#seopress_titles_archives_search_title"))+s("#seopress-tag-site-title-search").attr("data-tag"))}),s("#seopress-tag-site-title-404").click(function(){s("#seopress_titles_archives_404_title").val(e(s("#seopress_titles_archives_404_title"))+s("#seopress-tag-site-title-404").attr("data-tag"))}),s("#seopress-tag-sep-404").click(function(){s("#seopress_titles_archives_404_title").val(e(s("#seopress_titles_archives_404_title"))+s("#seopress-tag-sep-404").attr("data-tag"))}),s("#seopress-tag-post-title-bd-groups").click(function(){s("#seopress_titles_bp_groups_title").val(e(s("#seopress_titles_bp_groups_title"))+s("#seopress-tag-post-title-bd-groups").attr("data-tag"))}),s("#seopress-tag-sep-bd-groups").click(function(){s("#seopress_titles_bp_groups_title").val(e(s("#seopress_titles_bp_groups_title"))+s("#seopress-tag-sep-bd-groups").attr("data-tag"))}),s("#seopress-tag-site-title-bd-groups").click(function(){s("#seopress_titles_bp_groups_title").val(e(s("#seopress_titles_bp_groups_title"))+s("#seopress-tag-site-title-bd-groups").attr("data-tag"))}),s(".seopress-tag-dropdown").each(function(t){function i(t){n.hasClass("tag-title")&&(o.val(e(o)+s(t).attr("data-value")),o.trigger("paste")),n.hasClass("tag-description")&&(r.val(e(r)+s(t).attr("data-value")),r.trigger("paste"))}const o=s(this).parent(".wrap-tags").prev("input"),r=s(this).parent(".wrap-tags").prev("textarea"),n=s(this);s(this).on("click",function(){function e(t){s(t.target).hasClass("dashicons")||s(t.target).hasClass("seopress-tag-single-all")||(a=!1,s(document).off("click",e),s(".sp-wrap-tag-variables-list").removeClass("open"))}s(this).next(".sp-wrap-tag-variables-list").toggleClass("open"),s(this).next(".sp-wrap-tag-variables-list").find("li").on("click",function(s){i(this),s.stopImmediatePropagation()}).on("keyup",function(s){13===s.keyCode&&(i(this),s.stopImmediatePropagation())}),a||(a=!0,s(document).on("click",e))})}),s("#seopress_instant_indexing_manual_batch").length){newLines=s("#seopress_instant_indexing_manual_batch").val().split("\n").length,s("#seopress_instant_indexing_url_count").text(newLines);var i=50,o=s("#seopress_instant_indexing_url_count");if(newLines){var r=Math.round(newLines/50*100);r>=100&&(r=100),s("#seopress_instant_indexing_url_progress").attr("aria-valuenow",r),s("#seopress_instant_indexing_url_progress").text(r+"%"),s("#seopress_instant_indexing_url_progress").css("width",r+"%")}s("#seopress_instant_indexing_manual_batch").on("keyup paste change click focus mouseout",function(e){if(newLines=s(this).val().split("\n").length,o.text(newLines),newLines>i?o.css("color","red"):o.css("color",""),newLines)var t=Math.round(newLines/50*100);t>=100&&(t=100),s("#seopress_instant_indexing_url_progress").attr("aria-valuenow",t),s("#seopress_instant_indexing_url_progress").text(t+"%"),s("#seopress_instant_indexing_url_progress").css("width",t+"%")})}s(".seopress-instant-indexing-batch").on("click",function(){s("#seopress-tabs .spinner").css("visibility","visible"),s("#seopress-tabs .spinner").css("float","none"),s.ajax({method:"POST",url:seopressAjaxInstantIndexingPost.seopress_instant_indexing_post,data:{action:"seopress_instant_indexing_post",_ajax_nonce:seopressAjaxInstantIndexingPost.seopress_nonce},success:function(s){window.location.reload(!0)}})}),s(".seopress-instant-indexing-refresh-api-key").on("click",function(){s.ajax({method:"POST",url:seopressAjaxInstantIndexingApiKey.seopress_instant_indexing_generate_api_key,data:{action:"seopress_instant_indexing_generate_api_key",_ajax_nonce:seopressAjaxInstantIndexingApiKey.seopress_nonce},success:function(s){window.location.reload(!0)}})})});